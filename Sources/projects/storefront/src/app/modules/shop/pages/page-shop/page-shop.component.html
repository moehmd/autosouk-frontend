<app-block-header [pageTitle]="pageTitle$|async" [breadcrumb]="breadcrumbs$|async"></app-block-header>

<ng-template #sidebar>
    <app-shop-sidebar [offcanvas]="offCanvasSidebar"></app-shop-sidebar>
</ng-template>

<div class="block-split" [class.block-split--has-sidebar]="hasSidebar">
    <ng-container *ngIf="offCanvasSidebar === 'always'">
        <ng-container *ngTemplateOutlet="sidebar"></ng-container>
    </ng-container>
    <div class="container">
        <div class="block-split__row row no-gutters">
            <!-- <ng-container *ngIf="sidebarPosition === 'start' && hasSidebar">
                <div class="block-split__item block-split__item-sidebar col-auto">
                    <ng-container *ngTemplateOutlet="sidebar"></ng-container>
                </div>
            </ng-container> -->
            <div class="block-split__item block-split__item-content col-12">
                <div class="block">
                    <app-products-view [FilteredProducts]="filteredProducts" [layout]="layout" [gridLayout]="gridLayout"
                        [offCanvasSidebar]="offCanvasSidebar" (NewChangeSorting)="getFilteredProducts($event)">
                    </app-products-view>
                    <ng-container *ngIf="hasNoProducts">
                        <app-block-space layout="spaceship-ledge-height"></app-block-space>

                        <div class="block">
                            <div class="container">
                                <div class="not-found">
                                    <div class="not-found__404">
                                        Oops! Error 404
                                    </div>

                                    <div class="not-found__content">
                                        <h1 class="not-found__title">Product Not Found</h1>

                                        <p class="not-found__text">
                                            We can't seem to find the products you're looking for.<br>
                                            Try to use the search.
                                        </p>
                                        <p class="not-found__text">
                                            Or go to the home page to start over.
                                        </p>

                                        <a class="btn btn-primary btn-sm" [routerLink]="url.home()">Go To Home
                                            Page</a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <app-block-space layout="before-footer"></app-block-space>
                    </ng-container>
                </div>
            </div>
            <ng-container *ngIf="sidebarPosition === 'end' && hasSidebar">
                <div class="block-split__item block-split__item-sidebar col-auto">
                    <ng-container *ngTemplateOutlet="sidebar"></ng-container>
                </div>
            </ng-container>
        </div>
    </div>
</div>

<app-block-space layout="before-footer"></app-block-space>